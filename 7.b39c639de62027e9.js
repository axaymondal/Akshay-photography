"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7],{8007:(j,h,s)=>{s.r(h),s.d(h,{GalleryModule:()=>F});var l=s(177),y=s(4255),t=s(3953),C=s(2466),u=s(467);let v=(()=>{class i{onRightClick(e){e.preventDefault()}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275dir=t.FsC({type:i,selectors:[["","preventRightClick",""]],hostBindings:function(n,o){1&n&&t.bIt("contextmenu",function(a){return o.onRightClick(a)})}})}return i})();const k=i=>({"background-image":i});let I=(()=>{class i{constructor(){this.imageSrc="",this.imageAlt="",this.currentIndex=0,this.totalImages=0,this.imageTitle="",this.imageDescription="",this.closeLightbox=new t.bkB,this.navigate=new t.bkB}handleKeyboardEvent(e){switch(e.key){case"ArrowLeft":this.previousImage(e);break;case"ArrowRight":this.nextImage(e);break;case"Escape":this.close()}}close(){this.closeLightbox.emit()}previousImage(e){e.stopPropagation(),this.navigate.emit((this.currentIndex-1+this.totalImages)%this.totalImages)}nextImage(e){e.stopPropagation(),this.navigate.emit((this.currentIndex+1)%this.totalImages)}addWatermark(e){return(0,u.A)(function*(){return new Promise((n,o)=>{const r=new Image;r.crossOrigin="anonymous",r.onload=()=>{const a=document.createElement("canvas"),c=a.getContext("2d");if(!c)return void o("Could not get canvas context");a.width=r.width,a.height=r.height,c.drawImage(r,0,0),c.save();const g=c.createLinearGradient(0,0,a.width,0);g.addColorStop(0,"#FF6B6B"),g.addColorStop(.5,"#4ECDC4"),g.addColorStop(1,"#45B7D1"),c.font="50px 'Midnight Signature', cursive",c.fillStyle=g,c.textAlign="center",c.textBaseline="middle",c.shadowColor="rgba(0, 0, 0, 0.6)",c.shadowBlur=12,c.shadowOffsetX=3,c.shadowOffsetY=3;const p="Akshay's Photography",L=c.measureText(p).width,f=a.width-L/2-40,x=a.height-50-20;c.fillText(p,f,x),c.strokeStyle="rgba(255, 255, 255, 0.4)",c.lineWidth=1.5,c.strokeText(p,f,x),c.restore(),a.toBlob(_=>{if(_){const T=URL.createObjectURL(_);n(T)}else o("Could not create blob")},"image/jpeg",.9)},r.onerror=()=>{o("Could not load image")},r.src=e})})()}downloadImage(e){var n=this;return(0,u.A)(function*(){e.stopPropagation();try{const o=e.target,r=o.innerHTML;o.innerHTML='<span class="loading">Processing...</span>';const a=yield n.addWatermark(n.imageSrc),c=document.createElement("a");c.href=a;const m=(n.imageSrc.split("/").pop()||"image").replace(/\.[^/.]+$/,"")+"_watermarked.jpg";c.download=m,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(a),o.innerHTML=r}catch(o){console.error("Error adding watermark:",o);const r=document.createElement("a");r.href=n.imageSrc;const a=n.imageSrc.split("/").pop()||"image";r.download=a,document.body.appendChild(r),r.click(),document.body.removeChild(r)}})()}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-lightbox"]],hostBindings:function(n,o){1&n&&t.bIt("keydown",function(a){return o.handleKeyboardEvent(a)},!1,t.tSv)},inputs:{imageSrc:"imageSrc",imageAlt:"imageAlt",currentIndex:"currentIndex",totalImages:"totalImages",imageTitle:"imageTitle",imageDescription:"imageDescription"},outputs:{closeLightbox:"closeLightbox",navigate:"navigate"},decls:19,vars:7,consts:[[1,"lightbox-overlay",3,"click"],[1,"lightbox-bg",3,"ngStyle"],[1,"lightbox-content",3,"click"],[1,"controls"],[1,"close-btn",3,"click"],[1,"nav-btn","prev-btn",3,"click"],[1,"nav-btn","next-btn",3,"click"],[1,"image-info"],[1,"image-title"],[1,"image-description"],["preventRightClick","",3,"src","alt"],[1,"download-btn-wrapper"],[1,"modern-download-btn",3,"click"]],template:function(n,o){1&n&&(t.j41(0,"div",0),t.bIt("click",function(){return o.close()}),t.nrm(1,"div",1),t.j41(2,"div",2),t.bIt("click",function(a){return a.stopPropagation()}),t.j41(3,"div",3)(4,"button",4),t.bIt("click",function(){return o.close()}),t.EFF(5,"\xd7"),t.k0s()(),t.j41(6,"button",5),t.bIt("click",function(a){return o.previousImage(a)}),t.EFF(7,"\u276e"),t.k0s(),t.j41(8,"button",6),t.bIt("click",function(a){return o.nextImage(a)}),t.EFF(9,"\u276f"),t.k0s(),t.j41(10,"div",7)(11,"h2",8),t.EFF(12),t.k0s(),t.j41(13,"p",9),t.EFF(14),t.k0s()(),t.nrm(15,"img",10),t.j41(16,"div",11)(17,"button",12),t.bIt("click",function(a){return o.downloadImage(a)}),t.EFF(18,"DOWNLOAD"),t.k0s()()()()),2&n&&(t.R7$(),t.Y8G("ngStyle",t.eq3(5,k,"url("+o.imageSrc+")")),t.R7$(11),t.JRh(o.imageTitle),t.R7$(2),t.JRh(o.imageDescription),t.R7$(),t.Y8G("src",o.imageSrc,t.B4B)("alt",o.imageAlt))},dependencies:[l.B3,v],styles:['@font-face{font-family:Midnight Signature;src:url(https://fonts.cdnfonts.com/css/midnight-signature) format("woff2")}.lightbox-bg[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100vw;height:100vh;background-size:cover;background-position:center;filter:blur(24px) brightness(.4);z-index:0;pointer-events:none}.lightbox-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000e6;display:flex;justify-content:center;align-items:center;z-index:1000;cursor:pointer;overflow:hidden}.lightbox-content[_ngcontent-%COMP%]{position:relative;width:90vw;height:90vh;max-width:90vw;max-height:90vh;display:flex;flex-direction:column;align-items:center;justify-content:center;margin:auto;z-index:1;background:transparent}.controls[_ngcontent-%COMP%]{position:absolute;top:-40px;right:0;display:flex;gap:10px;z-index:1001}img[_ngcontent-%COMP%]{width:80%;height:80%;max-width:80vw;max-height:80vh;object-fit:contain;display:block;margin:0 auto}.close-btn[_ngcontent-%COMP%], .download-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:2rem;cursor:pointer;padding:5px;line-height:1;z-index:1001;display:flex;align-items:center;justify-content:center;transition:opacity .3s ease}.close-btn[_ngcontent-%COMP%]:hover, .download-btn[_ngcontent-%COMP%]:hover{opacity:.8}.close-btn[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%], .download-btn[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{font-size:.8rem;white-space:nowrap;animation:_ngcontent-%COMP%_pulse 1.5s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:.6}50%{opacity:1}to{opacity:.6}}.download-btn[_ngcontent-%COMP%]{font-size:1.5rem;padding:8px;background:#00000080;border-radius:50%;width:40px;height:40px}.nav-btn[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:#00000080;border:none;color:#fff;font-size:2rem;cursor:pointer;padding:1rem;line-height:1;transition:background-color .3s ease;z-index:1001;border-radius:50%;width:50px;height:50px;display:flex;align-items:center;justify-content:center}.nav-btn[_ngcontent-%COMP%]:hover{background:#000c}.prev-btn[_ngcontent-%COMP%]{left:-70px}.next-btn[_ngcontent-%COMP%]{right:-70px}@media (max-width: 768px){.nav-btn[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.5rem}.nav-btn.prev-btn[_ngcontent-%COMP%]{left:10px}.nav-btn.next-btn[_ngcontent-%COMP%]{right:10px}.download-btn[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.2rem}}.download-btn-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:2rem}.modern-download-btn[_ngcontent-%COMP%]{background:linear-gradient(180deg,#23252b 0% 100%);color:#fff;border:none;border-radius:2rem;padding:1rem 3rem;font-size:1.1rem;font-weight:500;letter-spacing:.35em;text-transform:uppercase;box-shadow:0 8px 24px #00000040;outline:none;cursor:pointer;transition:background .2s,box-shadow .2s,transform .1s;margin:0 auto;display:block}.modern-download-btn[_ngcontent-%COMP%]:hover, .modern-download-btn[_ngcontent-%COMP%]:focus{background:linear-gradient(180deg,#2d2f36,#23252b);box-shadow:0 12px 32px #00000059;transform:translateY(-2px) scale(1.03)}.image-info[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.image-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;color:#fff;margin:0 0 .5rem;letter-spacing:.05em}.image-description[_ngcontent-%COMP%]{font-size:1.1rem;color:#d1d1d1;margin:0;line-height:1.5}']})}return i})();function w(i,d){if(1&i){const e=t.RV6();t.j41(0,"button",6),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.selectCategory(o))}),t.EFF(1),t.nI1(2,"titlecase"),t.k0s()}if(2&i){const e=d.$implicit,n=t.XpG();t.AVh("active",n.selectedCategory===e),t.R7$(),t.SpI(" ",t.bMT(2,3,e)," ")}}function P(i,d){if(1&i){const e=t.RV6();t.j41(0,"div",7),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.openLightbox(o))}),t.nrm(1,"img",8),t.k0s()}if(2&i){const e=d.$implicit;t.R7$(),t.Y8G("src",e.src,t.B4B)("alt",e.alt)}}function O(i,d){if(1&i){const e=t.RV6();t.j41(0,"app-lightbox",9),t.bIt("closeLightbox",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.closeLightbox())})("navigate",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.navigateToImage(o))}),t.k0s()}if(2&i){const e=t.XpG();t.Y8G("imageSrc",e.selectedImage.src)("imageAlt",e.selectedImage.alt)("imageTitle",e.selectedImage.title)("imageDescription",e.selectedImage.description)("currentIndex",e.currentImageIndex)("totalImages",e.filteredImages.length)}}const M=[{path:"",component:(()=>{class i{constructor(e){this.cloudinaryService=e,this.selectedCategory="all",this.categories=["all","nature","food"],this.showLightbox=!1,this.selectedImage=null,this.currentImageIndex=0,this.images=[]}ngOnInit(){this.cloudinaryService.getImagesByFolder("my-folder").subscribe(e=>{this.images=e.resources.map(n=>({src:n.secure_url,category:this.getCategoryFromPublicId(n.public_id),alt:n.public_id,title:this.getTitleFromPublicId(n.public_id),description:this.getDescriptionFromPublicId(n.public_id)}))},e=>{console.error("Error loading gallery images:",e)})}get filteredImages(){return"all"===this.selectedCategory?this.images:this.images.filter(e=>e.category===this.selectedCategory)}selectCategory(e){this.selectedCategory=e}openLightbox(e){this.selectedImage=e,this.currentImageIndex=this.filteredImages.findIndex(n=>n.src===e.src),this.showLightbox=!0}closeLightbox(){this.showLightbox=!1,this.selectedImage=null}navigateToImage(e){this.currentImageIndex=e,this.selectedImage=this.filteredImages[e]}getCategoryFromPublicId(e){return e.toLowerCase().includes("food")?"food":"nature"}getTitleFromPublicId(e){return e.split("/").pop()||"Photo"}getDescriptionFromPublicId(e){return"Akshay Photography image"}static#t=this.\u0275fac=function(n){return new(n||i)(t.rXU(C.G))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-gallery"]],decls:10,vars:3,consts:[[1,"container"],[1,"category-filters"],["class","category-btn",3,"active","click",4,"ngFor","ngForOf"],[1,"gallery-grid"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[3,"imageSrc","imageAlt","imageTitle","imageDescription","currentIndex","totalImages","closeLightbox","navigate",4,"ngIf"],[1,"category-btn",3,"click"],[1,"gallery-item",3,"click"],["loading","lazy",3,"src","alt"],[3,"closeLightbox","navigate","imageSrc","imageAlt","imageTitle","imageDescription","currentIndex","totalImages"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"header")(2,"h1"),t.EFF(3,"Photo Gallery"),t.k0s(),t.j41(4,"div",1),t.DNE(5,w,3,5,"button",2),t.k0s()(),t.j41(6,"main")(7,"div",3),t.DNE(8,P,2,2,"div",4),t.k0s()()(),t.DNE(9,O,1,6,"app-lightbox",5)),2&n&&(t.R7$(5),t.Y8G("ngForOf",o.categories),t.R7$(3),t.Y8G("ngForOf",o.filteredImages),t.R7$(),t.Y8G("ngIf",o.showLightbox&&o.selectedImage))},dependencies:[l.Sq,l.bT,I,l.PV],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem}header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem;color:#333}.category-filters[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;margin-bottom:2rem;flex-wrap:wrap}.category-filters[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]{padding:.5rem 1.5rem;border:2px solid #333;background:transparent;color:#333;border-radius:25px;cursor:pointer;transition:all .3s ease;font-weight:500}.category-filters[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]:hover, .category-filters[_ngcontent-%COMP%]   .category-btn.active[_ngcontent-%COMP%]{background:#333;color:#fff}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem;padding:1rem 0}.gallery-grid[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:8px;box-shadow:0 4px 6px #0000001a;transition:transform .3s ease}.gallery-grid[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.gallery-grid[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:300px;object-fit:cover;display:block}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:1rem}.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1rem}.category-filters[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]{padding:.4rem 1rem;font-size:.9rem}}"]})}return i})()}];let F=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.$C({type:i});static#n=this.\u0275inj=t.G2t({imports:[l.MD,y.iI.forChild(M)]})}return i})()}}]);